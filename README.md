# Subgraph for The Sandbox tokens

## Install

To install run 

```console
yarn
```

## Build

Run the following commands:
- `yarn generate <NETWORK>` to generate the root `subgraph.yaml` and `abis/` for that network from the `contractsInfo.<NETWORK>.json` file
- `yarn codegen` to generate all the subgraph related files (build, generate folders)
- `yarn build` to compile all the required files in `src/` according to the `subgraph.yaml`

To test, try deploying to goerli

## Deployment

Request the access token and authenticate with the following:

```console
graph auth --product hosted-service <ACCESS_TOKEN>
```

Then run one of the following commands
- `yarn deploy:goerli`
- `yarn deploy:mumbai`
- `yarn deploy:mainnet`
- `yarn deploy:polygon`

## Notes

- Don't commit the root subgraph.yaml file, it's autogenerated